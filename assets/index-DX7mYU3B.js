var Fn=Object.defineProperty;var Bn=(e,t,n)=>t in e?Fn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var U=(e,t,n)=>Bn(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();const Un="5";var rn;typeof window<"u"&&((rn=window.__svelte??(window.__svelte={})).v??(rn.v=new Set)).add(Un);let xe=!1,Kn=!1;function Wn(){xe=!0}Wn();const kt=1,Nt=2,ln=4,Yn=8,Vn=16,Zn=1,jn=2,Gn=4,$n=8,Qn=16,Xn=4,Jn=1,er=2,R=Symbol(),tr="http://www.w3.org/1999/xhtml",Ut=!1;var Ae=Array.isArray,nr=Array.prototype.indexOf,Pt=Array.from,rr=Object.defineProperty,ye=Object.getOwnPropertyDescriptor,an=Object.getOwnPropertyDescriptors,lr=Object.prototype,ar=Array.prototype,Mt=Object.getPrototypeOf,Kt=Object.isExtensible;function ir(e){return typeof e=="function"}const Me=()=>{};function sr(e){return e()}function mt(e){for(var t=0;t<e.length;t++)e[t]()}function or(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const n=[];for(const r of e)if(n.push(r),n.length===t)break;return n}const X=2,sn=4,it=8,st=16,ce=32,ke=64,Ct=128,V=256,je=512,Z=1024,fe=2048,me=4096,oe=8192,Lt=16384,qt=32768,ot=65536,Wt=1<<17,ur=1<<18,on=1<<19,wt=1<<20,ue=Symbol("$state"),fr=Symbol("legacy props"),un=new class extends Error{constructor(){super(...arguments);U(this,"name","StaleReactionError");U(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function fn(e){return e===this.v}function cr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function cn(e){return!cr(e,this.v)}function vr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function dr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function _r(e){throw new Error("https://svelte.dev/e/effect_orphan")}function hr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function pr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function gr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function mr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function vn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let k=null;function Yt(e){k=e}function ze(e,t=!1,n){var r=k={p:k,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};xe&&!t&&(k.l={s:null,u:null,r1:[],r2:Re(!1)}),ct(()=>{r.d=!0})}function Fe(e){const t=k;if(t!==null){e!==void 0&&(t.x=e);const i=t.e;if(i!==null){var n=A,r=I;t.e=null;try{for(var a=0;a<i.length;a++){var l=i[a];ae(l.effect),J(l.reaction),Ue(l.fn)}}finally{ae(n),J(r)}}k=t.p,t.m=!0}return e||{}}function ut(){return!xe||k!==null&&k.l===null}function Te(e){if(typeof e!="object"||e===null||ue in e)return e;const t=Mt(e);if(t!==lr&&t!==ar)return e;var n=new Map,r=Ae(e),a=de(0),l=I,i=o=>{var f=I;J(l);var u=o();return J(f),u};return r&&n.set("length",de(e.length)),new Proxy(e,{defineProperty(o,f,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&pr();var c=n.get(f);return c===void 0?c=i(()=>{var v=de(u.value);return n.set(f,v),v}):x(c,u.value,!0),!0},deleteProperty(o,f){var u=n.get(f);if(u===void 0){if(f in o){const s=i(()=>de(R));n.set(f,s),ht(a)}}else{if(r&&typeof f=="string"){var c=n.get("length"),v=Number(f);Number.isInteger(v)&&v<c.v&&x(c,v)}x(u,R),ht(a)}return!0},get(o,f,u){var _;if(f===ue)return e;var c=n.get(f),v=f in o;if(c===void 0&&(!v||(_=ye(o,f))!=null&&_.writable)&&(c=i(()=>{var d=Te(v?o[f]:R),b=de(d);return b}),n.set(f,c)),c!==void 0){var s=p(c);return s===R?void 0:s}return Reflect.get(o,f,u)},getOwnPropertyDescriptor(o,f){var u=Reflect.getOwnPropertyDescriptor(o,f);if(u&&"value"in u){var c=n.get(f);c&&(u.value=p(c))}else if(u===void 0){var v=n.get(f),s=v==null?void 0:v.v;if(v!==void 0&&s!==R)return{enumerable:!0,configurable:!0,value:s,writable:!0}}return u},has(o,f){var s;if(f===ue)return!0;var u=n.get(f),c=u!==void 0&&u.v!==R||Reflect.has(o,f);if(u!==void 0||A!==null&&(!c||(s=ye(o,f))!=null&&s.writable)){u===void 0&&(u=i(()=>{var _=c?Te(o[f]):R,d=de(_);return d}),n.set(f,u));var v=p(u);if(v===R)return!1}return c},set(o,f,u,c){var y;var v=n.get(f),s=f in o;if(r&&f==="length")for(var _=u;_<v.v;_+=1){var d=n.get(_+"");d!==void 0?x(d,R):_ in o&&(d=i(()=>de(R)),n.set(_+"",d))}if(v===void 0)(!s||(y=ye(o,f))!=null&&y.writable)&&(v=i(()=>de(void 0)),x(v,Te(u)),n.set(f,v));else{s=v.v!==R;var b=i(()=>Te(u));x(v,b)}var g=Reflect.getOwnPropertyDescriptor(o,f);if(g!=null&&g.set&&g.set.call(c,u),!s){if(r&&typeof f=="string"){var m=n.get("length"),w=Number(f);Number.isInteger(w)&&w>=m.v&&x(m,w+1)}ht(a)}return!0},ownKeys(o){p(a);var f=Reflect.ownKeys(o).filter(v=>{var s=n.get(v);return s===void 0||s.v!==R});for(var[u,c]of n)c.v!==R&&!(u in o)&&f.push(u);return f},setPrototypeOf(){gr()}})}function ht(e,t=1){x(e,e.v+t)}function Vt(e){try{if(e!==null&&typeof e=="object"&&ue in e)return e[ue]}catch{}return e}function wr(e,t){return Object.is(Vt(e),Vt(t))}function Be(e){var t=X|fe,n=I!==null&&(I.f&X)!==0?I:null;return A===null||n!==null&&(n.f&V)!==0?t|=V:A.f|=on,{ctx:k,deps:null,effects:null,equals:fn,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??A,ac:null}}function br(e){const t=Be(e);return kn(t),t}function De(e){const t=Be(e);return t.equals=cn,t}function dn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ge(t[n])}}function yr(e){for(var t=e.parent;t!==null;){if((t.f&X)===0)return t;t=t.parent}return null}function _n(e){var t,n=A;ae(yr(e));try{dn(e),t=Cn(e)}finally{ae(n)}return t}function hn(e){var t=_n(e);if(e.equals(t)||(e.v=t,e.wv=Pn()),!Pe){var n=(he||(e.f&V)!==0)&&e.deps!==null?me:Z;re(e,n)}}const Oe=new Map;function Re(e,t){var n={f:0,v:e,reactions:null,equals:fn,rv:0,wv:0};return n}function de(e,t){const n=Re(e);return kn(n),n}function Y(e,t=!1,n=!0){var a;const r=Re(e);return t||(r.equals=cn),xe&&n&&k!==null&&k.l!==null&&((a=k.l).s??(a.s=[])).push(r),r}function x(e,t,n=!1){I!==null&&(!le||(I.f&Wt)!==0)&&ut()&&(I.f&(X|st|Wt))!==0&&!(q!=null&&q[1].includes(e)&&q[0]===I)&&mr();let r=n?Te(t):t;return Ge(e,r)}function Ge(e,t){if(!e.equals(t)){var n=e.v;Pe?Oe.set(e,t):Oe.set(e,n),e.v=t,(e.f&X)!==0&&((e.f&fe)!==0&&_n(e),re(e,(e.f&V)===0?Z:me)),e.wv=Pn(),pn(e,fe),ut()&&A!==null&&(A.f&Z)!==0&&(A.f&(ce|ke))===0&&($===null?Lr([e]):$.push(e))}return t}function pn(e,t){var n=e.reactions;if(n!==null)for(var r=ut(),a=n.length,l=0;l<a;l++){var i=n[l],o=i.f;(o&fe)===0&&(!r&&i===A||(re(i,t),(o&(Z|V))!==0&&((o&X)!==0?pn(i,me):Ht(i))))}}function Er(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}let Sr=!1;var Zt,gn,mn,wn;function Tr(){if(Zt===void 0){Zt=window,gn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;mn=ye(t,"firstChild").get,wn=ye(t,"nextSibling").get,Kt(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Kt(n)&&(n.__t=void 0)}}function Dt(e=""){return document.createTextNode(e)}function $e(e){return mn.call(e)}function ft(e){return wn.call(e)}function S(e,t){return $e(e)}function bt(e,t){{var n=$e(e);return n instanceof Comment&&n.data===""?ft(n):n}}function P(e,t=1,n=!1){let r=e;for(;t--;)r=ft(r);return r}function Ir(e){e.textContent=""}function bn(e){A===null&&I===null&&_r(),I!==null&&(I.f&V)!==0&&A===null&&dr(),Pe&&vr()}function xr(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Ne(e,t,n,r=!0){var a=A,l={ctx:k,deps:null,nodes_start:null,nodes_end:null,f:e|fe,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{dt(l),l.f|=qt}catch(f){throw ge(l),f}else t!==null&&Ht(l);var i=n&&l.deps===null&&l.first===null&&l.nodes_start===null&&l.teardown===null&&(l.f&(on|Ct))===0;if(!i&&r&&(a!==null&&xr(l,a),I!==null&&(I.f&X)!==0)){var o=I;(o.effects??(o.effects=[])).push(l)}return l}function ct(e){const t=Ne(it,null,!1);return re(t,Z),t.teardown=e,t}function yt(e){bn();var t=A!==null&&(A.f&ce)!==0&&k!==null&&!k.m;if(t){var n=k;(n.e??(n.e=[])).push({fn:e,effect:A,reaction:I})}else{var r=Ue(e);return r}}function Ar(e){return bn(),Ke(e)}function kr(e){const t=Ne(ke,e,!0);return(n={})=>new Promise(r=>{n.outro?Qe(t,()=>{ge(t),r(void 0)}):(ge(t),r(void 0))})}function Ue(e){return Ne(sn,e,!1)}function Ce(e,t){var n=k,r={effect:null,ran:!1};n.l.r1.push(r),r.effect=Ke(()=>{e(),!r.ran&&(r.ran=!0,x(n.l.r2,!0),M(t))})}function yn(){var e=k;Ke(()=>{if(p(e.l.r2)){for(var t of e.l.r1){var n=t.effect;(n.f&Z)!==0&&re(n,me),We(n)&&dt(n),t.ran=!1}e.l.r2.v=!1}})}function Ke(e){return Ne(it,e,!0)}function ne(e,t=[],n=Be){const r=t.map(n);return Ot(()=>e(...r.map(p)))}function Ot(e,t=0){var n=Ne(it|st|t,e,!0);return n}function He(e,t=!0){return Ne(it|ce,e,!0,t)}function En(e){var t=e.teardown;if(t!==null){const n=Pe,r=I;jt(!0),J(null);try{t.call(null)}finally{jt(n),J(r)}}}function Sn(e,t=!1){var a;var n=e.first;for(e.first=e.last=null;n!==null;){(a=n.ac)==null||a.abort(un);var r=n.next;(n.f&ke)!==0?n.parent=null:ge(n,t),n=r}}function Nr(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&ce)===0&&ge(t),t=n}}function ge(e,t=!0){var n=!1;(t||(e.f&ur)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Pr(e.nodes_start,e.nodes_end),n=!0),Sn(e,t&&!n),nt(e,0),re(e,Lt);var r=e.transitions;if(r!==null)for(const l of r)l.stop();En(e);var a=e.parent;a!==null&&a.first!==null&&Tn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Pr(e,t){for(;e!==null;){var n=e===t?null:ft(e);e.remove(),e=n}}function Tn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Qe(e,t){var n=[];Rt(e,n,!0),In(n,()=>{ge(e),t&&t()})}function In(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function Rt(e,t,n){if((e.f&oe)===0){if(e.f^=oe,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var a=r.next,l=(r.f&ot)!==0||(r.f&ce)!==0;Rt(r,t,l?n:!1),r=a}}}function Xe(e){xn(e,!0)}function xn(e,t){if((e.f&oe)!==0){e.f^=oe;for(var n=e.first;n!==null;){var r=n.next,a=(n.f&ot)!==0||(n.f&ce)!==0;xn(n,a?t:!1),n=r}if(e.transitions!==null)for(const l of e.transitions)(l.is_global||t)&&l.in()}}let Je=[];function Mr(){var e=Je;Je=[],mt(e)}function vt(e){Je.length===0&&queueMicrotask(Mr),Je.push(e)}function Cr(e){var t=A;if((t.f&qt)===0){if((t.f&Ct)===0)throw e;t.fn(e)}else An(e,t)}function An(e,t){for(;t!==null;){if((t.f&Ct)!==0)try{t.b.error(e);return}catch{}t=t.parent}throw e}let Et=!1,et=null,Ee=!1,Pe=!1;function jt(e){Pe=e}let Ze=[];let I=null,le=!1;function J(e){I=e}let A=null;function ae(e){A=e}let q=null;function kn(e){I!==null&&I.f&wt&&(q===null?q=[I,[e]]:q[1].push(e))}let O=null,K=0,$=null;function Lr(e){$=e}let Nn=1,tt=0,he=!1,be=null;function Pn(){return++Nn}function We(e){var v;var t=e.f;if((t&fe)!==0)return!0;if((t&me)!==0){var n=e.deps,r=(t&V)!==0;if(n!==null){var a,l,i=(t&je)!==0,o=r&&A!==null&&!he,f=n.length;if(i||o){var u=e,c=u.parent;for(a=0;a<f;a++)l=n[a],(i||!((v=l==null?void 0:l.reactions)!=null&&v.includes(u)))&&(l.reactions??(l.reactions=[])).push(u);i&&(u.f^=je),o&&c!==null&&(c.f&V)===0&&(u.f^=V)}for(a=0;a<f;a++)if(l=n[a],We(l)&&hn(l),l.wv>e.wv)return!0}(!r||A!==null&&!he)&&re(e,Z)}return!1}function Mn(e,t,n=!0){var r=e.reactions;if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];q!=null&&q[1].includes(e)&&q[0]===I||((l.f&X)!==0?Mn(l,t,!1):t===l&&(n?re(l,fe):(l.f&Z)!==0&&re(l,me),Ht(l)))}}function Cn(e){var _;var t=O,n=K,r=$,a=I,l=he,i=q,o=k,f=le,u=e.f;O=null,K=0,$=null,he=(u&V)!==0&&(le||!Ee||I===null),I=(u&(ce|ke))===0?e:null,q=null,Yt(e.ctx),le=!1,tt++,e.f|=wt,e.ac!==null&&(e.ac.abort(un),e.ac=null);try{var c=(0,e.fn)(),v=e.deps;if(O!==null){var s;if(nt(e,K),v!==null&&K>0)for(v.length=K+O.length,s=0;s<O.length;s++)v[K+s]=O[s];else e.deps=v=O;if(!he||(u&X)!==0&&e.reactions!==null)for(s=K;s<v.length;s++)((_=v[s]).reactions??(_.reactions=[])).push(e)}else v!==null&&K<v.length&&(nt(e,K),v.length=K);if(ut()&&$!==null&&!le&&v!==null&&(e.f&(X|me|fe))===0)for(s=0;s<$.length;s++)Mn($[s],e);return a!==null&&a!==e&&(tt++,$!==null&&(r===null?r=$:r.push(...$))),c}catch(d){Cr(d)}finally{O=t,K=n,$=r,I=a,he=l,q=i,Yt(o),le=f,e.f^=wt}}function qr(e,t){let n=t.reactions;if(n!==null){var r=nr.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&X)!==0&&(O===null||!O.includes(t))&&(re(t,me),(t.f&(V|je))===0&&(t.f^=je),dn(t),nt(t,0))}function nt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)qr(e,n[r])}function dt(e){var t=e.f;if((t&Lt)===0){re(e,Z);var n=A,r=Ee;A=e,Ee=!0;try{(t&st)!==0?Nr(e):Sn(e),En(e);var a=Cn(e);e.teardown=typeof a=="function"?a:null,e.wv=Nn;var l;Ut&&Kn&&(e.f&fe)!==0&&e.deps}finally{Ee=r,A=n}}}function Dr(){try{hr()}catch(e){if(et!==null)An(e,et);else throw e}}function Or(){var e=Ee;try{var t=0;for(Ee=!0;Ze.length>0;){t++>1e3&&Dr();var n=Ze,r=n.length;Ze=[];for(var a=0;a<r;a++){var l=Hr(n[a]);Rr(l)}Oe.clear()}}finally{Et=!1,Ee=e,et=null}}function Rr(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];(r.f&(Lt|oe))===0&&We(r)&&(dt(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Tn(r):r.fn=null))}}function Ht(e){Et||(Et=!0,queueMicrotask(Or));for(var t=et=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(ke|ce))!==0){if((n&Z)===0)return;t.f^=Z}}Ze.push(t)}function Hr(e){for(var t=[],n=e;n!==null;){var r=n.f,a=(r&(ce|ke))!==0,l=a&&(r&Z)!==0;if(!l&&(r&oe)===0){(r&sn)!==0?t.push(n):a?n.f^=Z:We(n)&&dt(n);var i=n.first;if(i!==null){n=i;continue}}var o=n.parent;for(n=n.next;n===null&&o!==null;)n=o.next,o=o.parent}return t}function p(e){var t=e.f,n=(t&X)!==0;if(be!==null&&be.add(e),I!==null&&!le){if(!(q!=null&&q[1].includes(e))||q[0]!==I){var r=I.deps;e.rv<tt&&(e.rv=tt,O===null&&r!==null&&r[K]===e?K++:O===null?O=[e]:(!he||!O.includes(e))&&O.push(e))}}else if(n&&e.deps===null&&e.effects===null){var a=e,l=a.parent;l!==null&&(l.f&V)===0&&(a.f^=V)}return n&&(a=e,We(a)&&hn(a)),Pe&&Oe.has(e)?Oe.get(e):e.v}function zr(e){var t=be;be=new Set;var n=be,r;try{if(M(e),t!==null)for(r of be)t.add(r)}finally{be=t}return n}function pt(e){var t=zr(()=>M(e));for(var n of t)Ge(n,n.v)}function M(e){var t=le;try{return le=!0,e()}finally{le=t}}const Fr=-7169;function re(e,t){e.f=e.f&Fr|t}function pe(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ue in e)St(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&ue in n&&St(n)}}}function St(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{St(e[r],t)}catch{}const n=Mt(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=an(n);for(let a in r){const l=r[a].get;if(l)try{l.call(e)}catch{}}}}}let Gt=!1;function Br(){Gt||(Gt=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function zt(e){var t=I,n=A;J(null),ae(null);try{return e()}finally{J(t),ae(n)}}function Ln(e,t,n,r=n){e.addEventListener(t,()=>zt(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Br()}const Ur=new Set,$t=new Set;function Kr(e,t,n,r={}){function a(l){if(r.capture||Le.call(t,l),!l.cancelBubble)return zt(()=>n==null?void 0:n.call(this,l))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?vt(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function rt(e,t,n,r,a){var l={capture:r,passive:a},i=Kr(e,t,n,l);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ct(()=>{t.removeEventListener(e,i,l)})}function Le(e){var w;var t=this,n=t.ownerDocument,r=e.type,a=((w=e.composedPath)==null?void 0:w.call(e))||[],l=a[0]||e.target,i=0,o=e.__root;if(o){var f=a.indexOf(o);if(f!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;f<=u&&(i=f)}if(l=a[i]||e.target,l!==t){rr(e,"currentTarget",{configurable:!0,get(){return l||n}});var c=I,v=A;J(null),ae(null);try{for(var s,_=[];l!==null;){var d=l.assignedSlot||l.parentNode||l.host||null;try{var b=l["__"+r];if(b!=null&&(!l.disabled||e.target===l))if(Ae(b)){var[g,...m]=b;g.apply(l,[e,...m])}else b.call(l,e)}catch(y){s?_.push(y):s=y}if(e.cancelBubble||d===t||d===null)break;l=d}if(s){for(let y of _)queueMicrotask(()=>{throw y});throw s}}finally{e.__root=t,delete e.currentTarget,J(c),ae(v)}}}function Wr(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Tt(e,t){var n=A;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function j(e,t){var n=(t&Jn)!==0,r=(t&er)!==0,a,l=!e.startsWith("<!>");return()=>{a===void 0&&(a=Wr(l?e:"<!>"+e),n||(a=$e(a)));var i=r||gn?document.importNode(a,!0):a.cloneNode(!0);if(n){var o=$e(i),f=i.lastChild;Tt(o,f)}else Tt(i,i);return i}}function Yr(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Dt();return e.append(t,n),Tt(t,n),e}function H(e,t){e!==null&&e.before(t)}const Vr=["touchstart","touchmove"];function Zr(e){return Vr.includes(e)}let It=!0;function W(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function jr(e,t){return Gr(e,t)}const Se=new Map;function Gr(e,{target:t,anchor:n,props:r={},events:a,context:l,intro:i=!0}){Tr();var o=new Set,f=v=>{for(var s=0;s<v.length;s++){var _=v[s];if(!o.has(_)){o.add(_);var d=Zr(_);t.addEventListener(_,Le,{passive:d});var b=Se.get(_);b===void 0?(document.addEventListener(_,Le,{passive:d}),Se.set(_,1)):Se.set(_,b+1)}}};f(Pt(Ur)),$t.add(f);var u=void 0,c=kr(()=>{var v=n??t.appendChild(Dt());return He(()=>{if(l){ze({});var s=k;s.c=l}a&&(r.$$events=a),It=i,u=e(v,r)||{},It=!0,l&&Fe()}),()=>{var d;for(var s of o){t.removeEventListener(s,Le);var _=Se.get(s);--_===0?(document.removeEventListener(s,Le),Se.delete(s)):Se.set(s,_)}$t.delete(f),v!==n&&((d=v.parentNode)==null||d.removeChild(v))}});return $r.set(u,c),u}let $r=new WeakMap;function Ft(e){k===null&&vn(),xe&&k.l!==null?Jr(k).m.push(e):yt(()=>{const t=M(e);if(typeof t=="function")return t})}function Qr(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function Xr(){const e=k;return e===null&&vn(),(t,n,r)=>{var l;const a=(l=e.s.$$events)==null?void 0:l[t];if(a){const i=Ae(a)?a.slice():[a],o=Qr(t,n,r);for(const f of i)f.call(e.x,o);return!o.defaultPrevented}return!0}}function Jr(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}function xt(e,t,[n,r]=[0,0]){var a=e,l=null,i=null,o=R,f=n>0?ot:0,u=!1;const c=(s,_=!0)=>{u=!0,v(_,s)},v=(s,_)=>{o!==(o=s)&&(o?(l?Xe(l):_&&(l=He(()=>_(a))),i&&Qe(i,()=>{i=null})):(i?Xe(i):_&&(i=He(()=>_(a,[n+1,r]))),l&&Qe(l,()=>{l=null})))};Ot(()=>{u=!1,t(c),u||v(null,null)},f)}function lt(e,t){return t}function el(e,t,n,r){for(var a=[],l=t.length,i=0;i<l;i++)Rt(t[i].e,a,!0);var o=l>0&&a.length===0&&n!==null;if(o){var f=n.parentNode;Ir(f),f.append(n),r.clear(),_e(e,t[0].prev,t[l-1].next)}In(a,()=>{for(var u=0;u<l;u++){var c=t[u];o||(r.delete(c.k),_e(e,c.prev,c.next)),ge(c.e,!o)}})}function at(e,t,n,r,a,l=null){var i=e,o={flags:t,items:new Map,first:null},f=(t&ln)!==0;if(f){var u=e;i=u.appendChild(Dt())}var c=null,v=!1,s=De(()=>{var _=n();return Ae(_)?_:_==null?[]:Pt(_)});Ot(()=>{var _=p(s),d=_.length;v&&d===0||(v=d===0,tl(_,o,i,a,t,r,n),l!==null&&(d===0?c?Xe(c):c=He(()=>l(i)):c!==null&&Qe(c,()=>{c=null})),p(s))})}function tl(e,t,n,r,a,l,i){var B,G,te,we;var o=(a&Yn)!==0,f=(a&(kt|Nt))!==0,u=e.length,c=t.items,v=t.first,s=v,_,d=null,b,g=[],m=[],w,y,E,T;if(o)for(T=0;T<u;T+=1)w=e[T],y=l(w,T),E=c.get(y),E!==void 0&&((B=E.a)==null||B.measure(),(b??(b=new Set)).add(E));for(T=0;T<u;T+=1){if(w=e[T],y=l(w,T),E=c.get(y),E===void 0){var z=s?s.e.nodes_start:n;d=rl(z,t,d,d===null?t.first:d.next,w,y,T,r,a,i),c.set(y,d),g=[],m=[],s=d.next;continue}if(f&&nl(E,w,T,a),(E.e.f&oe)!==0&&(Xe(E.e),o&&((G=E.a)==null||G.unfix(),(b??(b=new Set)).delete(E))),E!==s){if(_!==void 0&&_.has(E)){if(g.length<m.length){var F=m[0],N;d=F.prev;var L=g[0],D=g[g.length-1];for(N=0;N<g.length;N+=1)Qt(g[N],F,n);for(N=0;N<m.length;N+=1)_.delete(m[N]);_e(t,L.prev,D.next),_e(t,d,L),_e(t,D,F),s=F,d=D,T-=1,g=[],m=[]}else _.delete(E),Qt(E,s,n),_e(t,E.prev,E.next),_e(t,E,d===null?t.first:d.next),_e(t,d,E),d=E;continue}for(g=[],m=[];s!==null&&s.k!==y;)(s.e.f&oe)===0&&(_??(_=new Set)).add(s),m.push(s),s=s.next;if(s===null)continue;E=s}g.push(E),d=E,s=E.next}if(s!==null||_!==void 0){for(var C=_===void 0?[]:Pt(_);s!==null;)(s.e.f&oe)===0&&C.push(s),s=s.next;var ee=C.length;if(ee>0){var ve=(a&ln)!==0&&u===0?n:null;if(o){for(T=0;T<ee;T+=1)(te=C[T].a)==null||te.measure();for(T=0;T<ee;T+=1)(we=C[T].a)==null||we.fix()}el(t,C,ve,c)}}o&&vt(()=>{var ie;if(b!==void 0)for(E of b)(ie=E.a)==null||ie.apply()}),A.first=t.first&&t.first.e,A.last=d&&d.e}function nl(e,t,n,r){(r&kt)!==0&&Ge(e.v,t),(r&Nt)!==0?Ge(e.i,n):e.i=n}function rl(e,t,n,r,a,l,i,o,f,u){var c=(f&kt)!==0,v=(f&Vn)===0,s=c?v?Y(a,!1,!1):Re(a):a,_=(f&Nt)===0?i:Re(i),d={i:_,v:s,k:l,a:null,e:null,prev:n,next:r};try{return d.e=He(()=>o(e,s,_,u),Sr),d.e.prev=n&&n.e,d.e.next=r&&r.e,n===null?t.first=d:(n.next=d,n.e.next=d.e),r!==null&&(r.prev=d,r.e.prev=d.e),d}finally{}}function Qt(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,l=e.e.nodes_start;l!==r;){var i=ft(l);a.before(l),l=i}}function _e(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function ll(e,t,n){var r=e==null?"":""+e;return r=r?r+" "+t:t,r===""?null:r}function Xt(e,t,n,r,a,l){var i=e.__className;if(i!==n||i===void 0){var o=ll(n,r);o==null?e.removeAttribute("class"):e.className=o,e.__className=n}return l}function qn(e,t,n){if(e.multiple){if(t==null)return;if(!Ae(t))return Er();for(var r of e.options)r.selected=t.includes(qe(r));return}for(r of e.options){var a=qe(r);if(wr(a,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function al(e){var t=new MutationObserver(()=>{qn(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ct(()=>{t.disconnect()})}function gt(e,t,n=t){var r=!0;Ln(e,"change",a=>{var l=a?"[selected]":":checked",i;if(e.multiple)i=[].map.call(e.querySelectorAll(l),qe);else{var o=e.querySelector(l)??e.querySelector("option:not([disabled])");i=o&&qe(o)}n(i)}),Ue(()=>{var a=t();if(qn(e,a,r),r&&a===void 0){var l=e.querySelector(":checked");l!==null&&(a=qe(l),n(a))}e.__value=a,r=!1}),al(e)}function qe(e){return"__value"in e?e.__value:e.value}const il=Symbol("is custom element"),sl=Symbol("is html");function ol(e,t,n,r){var a=ul(e);a[t]!==(a[t]=n)&&(n==null?e.removeAttribute(t):typeof n!="string"&&fl(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ul(e){return e.__attributes??(e.__attributes={[il]:e.nodeName.includes("-"),[sl]:e.namespaceURI===tr})}var Jt=new Map;function fl(e){var t=Jt.get(e.nodeName);if(t)return t;Jt.set(e.nodeName,t=[]);for(var n,r=e,a=Element.prototype;a!==r;){n=an(r);for(var l in n)n[l].set&&t.push(l);r=Mt(r)}return t}const cl=()=>performance.now(),se={tick:e=>requestAnimationFrame(e),now:()=>cl(),tasks:new Set};function Dn(){const e=se.now();se.tasks.forEach(t=>{t.c(e)||(se.tasks.delete(t),t.f())}),se.tasks.size!==0&&se.tick(Dn)}function vl(e){let t;return se.tasks.size===0&&se.tick(Dn),{promise:new Promise(n=>{se.tasks.add(t={c:e,f:n})}),abort(){se.tasks.delete(t)}}}function Ye(e,t){zt(()=>{e.dispatchEvent(new CustomEvent(t))})}function dl(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function en(e){const t={},n=e.split(";");for(const r of n){const[a,l]=r.split(":");if(!a||l===void 0)break;const i=dl(a.trim());t[i]=l.trim()}return t}const _l=e=>e;function hl(e,t,n,r){var a=(e&Xn)!==0,l="both",i,o=t.inert,f=t.style.overflow,u,c;function v(){var g=I,m=A;J(null),ae(null);try{return i??(i=n()(t,(r==null?void 0:r())??{},{direction:l}))}finally{J(g),ae(m)}}var s={is_global:a,in(){t.inert=o,Ye(t,"introstart"),u=At(t,v(),c,1,()=>{Ye(t,"introend"),u==null||u.abort(),u=i=void 0,t.style.overflow=f})},out(g){t.inert=!0,Ye(t,"outrostart"),c=At(t,v(),u,0,()=>{Ye(t,"outroend"),g==null||g()})},stop:()=>{u==null||u.abort(),c==null||c.abort()}},_=A;if((_.transitions??(_.transitions=[])).push(s),It){var d=a;if(!d){for(var b=_.parent;b&&(b.f&ot)!==0;)for(;(b=b.parent)&&(b.f&st)===0;);d=!b||(b.f&qt)!==0}d&&Ue(()=>{M(()=>s.in())})}}function At(e,t,n,r,a){var l=r===1;if(ir(t)){var i,o=!1;return vt(()=>{if(!o){var g=t({direction:l?"in":"out"});i=At(e,g,n,r,a)}}),{abort:()=>{o=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(n==null||n.deactivate(),!(t!=null&&t.duration))return a(),{abort:Me,deactivate:Me,reset:Me,t:()=>r};const{delay:f=0,css:u,tick:c,easing:v=_l}=t;var s=[];if(l&&n===void 0&&(c&&c(0,1),u)){var _=en(u(0,1));s.push(_,_)}var d=()=>1-r,b=e.animate(s,{duration:f,fill:"forwards"});return b.onfinish=()=>{b.cancel();var g=(n==null?void 0:n.t())??1-r;n==null||n.abort();var m=r-g,w=t.duration*Math.abs(m),y=[];if(w>0){var E=!1;if(u)for(var T=Math.ceil(w/16.666666666666668),z=0;z<=T;z+=1){var F=g+m*v(z/T),N=en(u(F,1-F));y.push(N),E||(E=N.overflow==="hidden")}E&&(e.style.overflow="hidden"),d=()=>{var L=b.currentTime;return g+m*v(L/w)},c&&vl(()=>{if(b.playState!=="running")return!1;var L=d();return c(L,1-L),!0})}b=e.animate(y,{duration:w,fill:"forwards"}),b.onfinish=()=>{d=()=>r,c==null||c(r,1-r),a()}},{abort:()=>{b&&(b.cancel(),b.effect=null,b.onfinish=Me)},deactivate:()=>{a=Me},reset:()=>{r===0&&(c==null||c(1,0))},t:()=>d()}}function pl(e,t,n=t){Ln(e,"change",r=>{var a=r?e.defaultChecked:e.checked;n(a)}),M(t)==null&&n(e.checked),Ke(()=>{var r=t();e.checked=!!r})}function gl(e,t,n){var r=ye(e,t);r&&r.set&&(e[t]=n,ct(()=>{e[t]=null}))}function tn(e,t){return e===t||(e==null?void 0:e[ue])===t}function ml(e={},t,n,r){return Ue(()=>{var a,l;return Ke(()=>{a=l,l=[],M(()=>{e!==n(...l)&&(t(e,...l),a&&tn(n(...a),e)&&t(null,...a))})}),()=>{vt(()=>{l&&tn(n(...l),e)&&t(null,...l)})}}),e}function _t(e=!1){const t=k,n=t.l.u;if(!n)return;let r=()=>pe(t.s);if(e){let a=0,l={};const i=Be(()=>{let o=!1;const f=t.s;for(const u in f)f[u]!==l[u]&&(l[u]=f[u],o=!0);return o&&a++,a});r=()=>p(i)}n.b.length&&Ar(()=>{nn(t,r),mt(n.b)}),yt(()=>{const a=M(()=>n.m.map(sr));return()=>{for(const l of a)typeof l=="function"&&l()}}),n.a.length&&yt(()=>{nn(t,r),mt(n.a)})}function nn(e,t){if(e.l.s)for(const n of e.l.s)p(n);t()}function On(e,t){var l;var n=(l=e.$$events)==null?void 0:l[t.type],r=Ae(n)?n.slice():n==null?[]:[n];for(var a of r)a.call(this,t)}let Ve=!1;function wl(e){var t=Ve;try{return Ve=!1,[e(),Ve]}finally{Ve=t}}function bl(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function Q(e,t,n,r){var m;var a=!xe||(n&jn)!==0,l=(n&$n)!==0,i=(n&Qn)!==0,o=r,f=!0,u=()=>(f&&(f=!1,o=i?M(r):r),o),c;if(l){var v=ue in e||fr in e;c=((m=ye(e,t))==null?void 0:m.set)??(v&&t in e?w=>e[t]=w:void 0)}var s,_=!1;l?[s,_]=wl(()=>e[t]):s=e[t];var d;if(a?d=()=>{var w=e[t];return w===void 0?u():(f=!0,w)}:d=()=>{var w=e[t];return w!==void 0&&(o=void 0),w===void 0?o:w},a&&(n&Gn)===0)return d;if(c){var b=e.$$legacy;return function(w,y){return arguments.length>0?((!a||!y||b||_)&&c(y?d():w),w):d()}}var g=((n&Zn)!==0?Be:De)(d);return l&&p(g),function(w,y){if(arguments.length>0){const E=y?p(g):a&&l?Te(w):w;return x(g,E),o!==void 0&&(o=E),w}return bl(g)?g.v:p(g)}}const yl=e=>e;function El(e,{delay:t=0,duration:n=400,easing:r=yl}={}){const a=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:l=>`opacity: ${l*a}`}}const Sl="https://rt.data.gov.hk/v1/transport/mtr/lrt/getSchedule?station_id={stn}";class Tl{constructor(t,n,r,a,l,i,o){U(this,"route_no");U(this,"train_length");U(this,"dest_zh");U(this,"dest_en");U(this,"time_num");U(this,"time_text");U(this,"eta_date");this.route_no=t,this.train_length=n,this.dest_zh=r,this.dest_en=a,this.time_text=i,this.time_num=l,this.eta_date=o}}class h{constructor(t,n,r){U(this,"name");U(this,"initials");U(this,"platforms");this.name=n,this.initials=t,this.platforms=r}}function Il(e){return Sl.replace("{stn}",e)}const Ie=new Map([["1",new h("1","屯門碼頭|Tuen Mun Ferry Pier",[2,3,4,5,7])],["10",new h("10","美樂|Melody Garden",[1,2])],["15",new h("15","蝴蝶|Butterfly",[1,2])],["20",new h("20","輕鐵車廠|Light Rail Depot",[1,2])],["30",new h("30","龍門|Lung Mun",[1,2])],["40",new h("40","青山村|Tsing Shan Tsuen",[1,2])],["50",new h("50","青雲|Tsing Wun",[1,2])],["60",new h("60","建安|Kin On",[1,2])],["70",new h("70","河田|Ho Tin",[1,2])],["75",new h("75","蔡意橋|Choy Yee Bridge",[1,2])],["80",new h("80","澤豐|Affluence",[1,2])],["90",new h("90","屯門醫院|Tuen Mun Hospital",[1,2])],["100",new h("100","兆康|Siu Hong",[1,2,5,6])],["110",new h("110","麒麟|Kei Lun",[1,2])],["120",new h("120","青松|Ching Chung",[1,2])],["130",new h("130","建生|Kin Sang",[1,2])],["140",new h("140","田景|Tin King",[1,2,3])],["150",new h("150","良景|Leung King",[1,2])],["160",new h("160","新圍|San Wai",[1,2])],["170",new h("170","石排|Shek Pai",[1,2])],["180",new h("180","山景 (北)|Shan King (North)",[1])],["190",new h("190","山景 (南)|Shan King (South)",[1])],["200",new h("200","鳴琴|Ming Kum",[1,2])],["212",new h("212","大興 (北)|Tai Hing (North)",[1,2])],["220",new h("220","大興 (南)|Tai Hing (South)",[1,2])],["230",new h("230","銀圍|Ngan Wai",[1,2])],["240",new h("240","兆禧|Siu Hei",[1,2])],["250",new h("250","屯門泳池|Tuen Mun Swimming Pool",[1,2])],["260",new h("260","豐景園|Goodview Garden",[1,2])],["265",new h("265","兆麟|Siu Lun",[1,2])],["270",new h("270","安定|On Ting",[1,2])],["275",new h("275","友愛|Yau Oi",[1])],["280",new h("280","市中心|Town Centre",[4])],["295",new h("295","屯門|Tuen Mun",[1,2])],["300",new h("300","杯渡|Pui To",[1,2])],["310",new h("310","何福堂|Hoh Fuk Tong",[1,2])],["320",new h("320","新墟|San Hui",[1,2])],["330",new h("330","景峰|Prime View",[1,2])],["340",new h("340","鳳地|Fung Tei",[1,2])],["350",new h("350","藍地|Lam Tei",[1,2])],["360",new h("360","泥圍|Nai Wai",[1,2])],["370",new h("370","鍾屋村|Chung Uk Tsuen",[1,2])],["380",new h("380","洪水橋|Hung Shui Kiu",[1,2])],["390",new h("390","塘坊村|Tong Fong Tsuen",[1,2])],["400",new h("400","屏山|Ping Shan",[1,2])],["425",new h("425","坑尾村|Hang Mei Tsuen",[1,2])],["430",new h("430","天水圍|Tin Shui Wai",[1,2,3])],["435",new h("435","天慈|Tin Tsz",[1,2])],["445",new h("445","天耀|Tin Yiu",[1,2])],["448",new h("448","樂湖|Locwood",[1,2])],["450",new h("450","天湖|Tin Wu",[1,2])],["455",new h("455","銀座|Ginza",[1,2])],["460",new h("460","天瑞|Tin Shui",[1,2])],["468",new h("468","頌富|Chung Fu",[1,2])],["480",new h("480","天富|Tin Fu",[1,2])],["490",new h("490","翠湖|Chestwood",[1,2])],["500",new h("500","天榮|Tin Wing",[6,7])],["510",new h("510","天悅|Tin Yuet",[1,2])],["520",new h("520","天秀|Tin Sau",[1,2])],["530",new h("530","濕地公園|Wetland Park",[1,2])],["540",new h("540","天恒|Tin Heng",[1,2])],["550",new h("550","天逸|Tin Yat",[1,2,4,5])],["560",new h("560","水邊圍|Shui Pin Wai",[1,2])],["570",new h("570","豐年路|Fung Nin Road",[1,2])],["580",new h("580","康樂路|Hong Lok Road",[1,2])],["590",new h("590","大棠路|Tai Tong Road",[1,2])],["600",new h("600","元朗|Yuen Long",[2,3,4,5])],["920",new h("920","三聖|Sam Shing",[1,3])]]);var xl=j('<div id="titlebar" class="svelte-dp1p7g"><table id="titlebarTB" class="svelte-dp1p7g"><tbody><tr><td class="platformCell svelte-dp1p7g"><span class="platcircle svelte-dp1p7g"> </span> <div class="plattext svelte-dp1p7g">月台<br/>Platform</div></td><td class="stnName svelte-dp1p7g" title="Show Config Menu"><button class="non-styled-btn svelte-dp1p7g"><span class="sizeZH svelte-dp1p7g"> </span><br/> <span class="en"> </span></button></td><td class="clock svelte-dp1p7g"> </td></tr></tbody></table></div>');function Al(e,t){ze(t,!1);let n=Q(t,"stnId",8),r=Q(t,"platform",8);const a=Xr();let l=Y(new Date),i=Y(),o=Y(),f=Y(),u=Y();function c(){a("showConfig")}function v(){x(l,new Date)}Ft(()=>{const C=setInterval(v,2e3);return v(),()=>clearInterval(C)}),Ce(()=>p(l),()=>{x(i,p(l).getHours().toString().padStart(2,"0"))}),Ce(()=>p(l),()=>{x(o,p(l).getMinutes().toString().padStart(2,"0"))}),Ce(()=>pe(n()),()=>{var C;x(f,((C=Ie.get(n()))==null?void 0:C.name.split("|")[0])||"")}),Ce(()=>pe(n()),()=>{var C;x(u,((C=Ie.get(n()))==null?void 0:C.name.split("|")[1])||"")}),yn(),_t();var s=xl(),_=S(s),d=S(_),b=S(d),g=S(b),m=S(g),w=S(m),y=P(g),E=S(y),T=S(E),z=S(T),F=P(T,3),N=S(F),L=P(y),D=S(L);return ne(()=>{W(w,r()),W(z,p(f)||"站名"),W(N,p(u)||"Station Name"),W(D,`${p(i)??""}:${p(o)??""}`)}),rt("click",E,c),rt("keypress",E,c),H(e,s),gl(t,"updateDate",v),Fe({updateDate:v})}var kl=j('<img class="car svelte-10ras7r" src="img/lrv.png"/>'),Nl=j('<span class="sizeDouble multiLine svelte-10ras7r"> </span> <div class="eta"> <br/> </div>',1),Pl=j('<span class="sizeDouble multiLine svelte-10ras7r"> </span>'),Ml=j('<div class="row arrRow svelte-10ras7r"><div class="sizeDouble svelte-10ras7r"> </div> <div class="svelte-10ras7r"><span class="sizeZH svelte-10ras7r"> </span><br/> </div> <div class="cars svelte-10ras7r"></div> <div class="svelte-10ras7r"><!></div></div>'),Cl=j('<div class="arrRow svelte-10ras7r"><div class="sizeDouble svelte-10ras7r">&nbsp;</div> <div class="svelte-10ras7r"></div> <div class="svelte-10ras7r"></div> <div class="svelte-10ras7r"></div></div>'),Ll=j('<main class="svelte-10ras7r"><div class="row header svelte-10ras7r"><div class="svelte-10ras7r"><span class="sizeZH svelte-10ras7r">路線</span><br/>Route</div> <div class="svelte-10ras7r"><span class="sizeZH svelte-10ras7r">目的地</span><br/>Destination</div> <div class="svelte-10ras7r"></div> <div class="svelte-10ras7r"><span class="sizeZH svelte-10ras7r">下班車</span><br/>Next Train</div></div> <!></main>');function ql(e,t){ze(t,!1);let n=Q(t,"stnId",8),r=Q(t,"targetPlatform",8),a=Q(t,"timeMode",8),l=Y([]);const i=10;async function o(c,v){if(c==null||v==null)return;let s;try{s=await fetch(Il(c))}catch{return console.error("Failed to fetch ETA data!"),null}let _=await s.json();if(_.status!=1)return;let d=[];for(let b of _.platform_list)if(b.platform_id===v)for(let g of b.route_list){if(g.stop===1)continue;let m,w;g.time_en.includes("min")?(m="分鐘|min",w=g.time_en.split(" min")[0]):g.time_en==="-"?(m=" | ",w="-"):(w="",m=`${g.time_ch}|${g.time_en}`);let y=(parseInt(w)||0)*1e3*60,E=new Date(new Date().getTime()+y),T=new Tl(g.route_no,g.train_length,g.dest_ch,g.dest_en,w,m,E);d.push(T)}x(l,d)}Ft(()=>{const c=setInterval(async()=>await o(n(),r()),1e4);return()=>clearInterval(c)}),Ce(()=>(pe(n()),pe(r())),()=>{o(n(),r())}),yn(),_t();var f=Ll(),u=P(S(f),2);at(u,1,()=>({length:i}),lt,(c,v,s)=>{var _=Yr(),d=bt(_);{var b=m=>{var w=Ml(),y=S(w),E=S(y),T=P(y,2),z=S(T),F=S(z),N=P(z,2,!0),L=P(T,2);at(L,5,()=>(p(l),M(()=>({length:p(l)[s].train_length}))),lt,(B,G,te,we)=>{var ie=kl();ol(ie,"alt",`LRV Car ${te}`),H(B,ie)});var D=P(L,2),C=S(D);{var ee=B=>{var G=Nl(),te=bt(G),we=S(te),ie=P(te,2),Bt=S(ie),Rn=P(Bt,2,!0);ne((Hn,zn)=>{W(we,(p(l),M(()=>p(l)[s].time_num))),W(Bt,Hn),W(Rn,zn)},[()=>(p(l),M(()=>p(l)[s].time_text.split("|")[0])),()=>(p(l),M(()=>p(l)[s].time_text.split("|")[1]))],De),H(B,G)},ve=B=>{var G=Pl(),te=S(G);ne((we,ie)=>W(te,`${we??""}:${ie??""}`),[()=>(p(l),M(()=>String(p(l)[s].eta_date.getHours()).padStart(2,"0"))),()=>(p(l),M(()=>String(p(l)[s].eta_date.getMinutes()).padStart(2,"0")))],De),H(B,G)};xt(C,B=>{a()=="relative"?B(ee):B(ve,!1)})}ne(()=>{W(E,(p(l),M(()=>p(l)[s].route_no))),W(F,(p(l),M(()=>p(l)[s].dest_zh))),W(N,(p(l),M(()=>p(l)[s].dest_en)))}),H(m,w)},g=m=>{var w=Cl();H(m,w)};xt(d,m=>{p(l),M(()=>s<p(l).length)?m(b):m(g,!1)})}H(c,_)}),H(e,f),Fe()}var Dl=j("<!> <!>",1);function Ol(e,t){let n=Q(t,"stnId",8),r=Q(t,"platform",8),a=Q(t,"timeMode",8);var l=Dl(),i=bt(l);Al(i,{get stnId(){return n()},get platform(){return r()},$$events:{showConfig(f){On.call(this,t,f)}}});var o=P(i,2);ql(o,{get stnId(){return n()},get targetPlatform(){return r()},get timeMode(){return a()}}),H(e,l)}var Rl=j("<option> </option>"),Hl=j("<option> </option>"),zl=j('<main class="svelte-1ql0lcm"><h1 class="sizeZH svelte-1ql0lcm">輕鐵資訊顯示屏模擬器</h1> <h3 class="sizeEN svelte-1ql0lcm">Light Rail PIDS Simulator</h3> <hr/> <table id="cfgTable" class="svelte-1ql0lcm"><tbody><tr class="svelte-1ql0lcm"><td class="svelte-1ql0lcm"><label class="sizeZH svelte-1ql0lcm" for="station-selection">車站</label><br/><label class="sizeEN svelte-1ql0lcm" for="station-selection">Station</label></td><td class="svelte-1ql0lcm"><select id="station-selection" class="svelte-1ql0lcm"></select></td></tr><tr class="svelte-1ql0lcm"><td class="svelte-1ql0lcm"><label class="sizeZH svelte-1ql0lcm" for="platform-selection">月台</label><br/><label class="sizeEN svelte-1ql0lcm" for="platform-selection">Platform</label></td><td class="svelte-1ql0lcm"><select id="platform-selection" class="svelte-1ql0lcm"></select></td></tr><tr class="svelte-1ql0lcm"><td class="svelte-1ql0lcm"><label class="sizeZH svelte-1ql0lcm" for="fullscreen">全螢幕</label><br/><label class="sizeEN svelte-1ql0lcm" for="fullscreen">Full Screen</label></td><td class="svelte-1ql0lcm"><input id="fullscreen" type="checkbox" class="svelte-1ql0lcm"/></td></tr><tr class="svelte-1ql0lcm"><td class="svelte-1ql0lcm"><label class="sizeZH svelte-1ql0lcm" for="time-display">時間顯示</label><br/><label class="sizeEN svelte-1ql0lcm" for="time-display">Time Display</label></td><td class="svelte-1ql0lcm"><select id="time-display" class="svelte-1ql0lcm"><option>預計到達時間 ETA</option><option>時間 Time</option></select></td></tr></tbody></table> <button class="closeBtn svelte-1ql0lcm">開始 Start</button> <p>如需要再顯示此菜單，請按頂部的車站名</p> <p>Click the station name at the top to return to this menu.</p> <footer class="svelte-1ql0lcm"><p class="svelte-1ql0lcm"><a href="https://hktss.github.io/mtr-pids/" target="_blank" rel="noopener noreferrer">願景資訊顯示屏模擬器<br/>Railway Vision PIDS Simulator</a></p> <a href="https://hktss.github.io/" target="_blank" rel="noopener noreferrer" class="svelte-1ql0lcm"><img class="logo" src="img/tss_logo.png" alt="HKTSS Logo" height="40"/></a></footer></main>');function Fl(e,t){ze(t,!1);let n=Q(t,"stationId",12),r=Q(t,"selectedPlatform",12),a=Q(t,"useHorizontal",12),l=Q(t,"timeMode",12);_t();var i=zl(),o=P(S(i),6),f=S(o),u=S(f),c=P(S(u)),v=S(c);ne(()=>{n(),pt(()=>{})}),at(v,5,()=>(pe(Ie),M(()=>[...Ie])),lt,(N,L)=>{var D=br(()=>or(p(L),2));let C=()=>p(D)[0],ee=()=>p(D)[1];var ve=Rl(),B=S(ve),G={};ne(te=>{W(B,te),G!==(G=C())&&(ve.value=(ve.__value=C())??"")},[()=>(ee(),M(()=>ee().name.replace("|"," ")))],De),H(N,ve)});var s=P(u),_=P(S(s)),d=S(_);ne(()=>{r(),pt(()=>{n()})}),at(d,5,()=>(pe(Ie),pe(n()),M(()=>{var N;return((N=Ie.get(n()))==null?void 0:N.platforms)??[]})),lt,(N,L)=>{var D=Hl(),C=S(D),ee={};ne(()=>{W(C,p(L)),ee!==(ee=p(L))&&(D.value=(D.__value=p(L))??"")}),H(N,D)});var b=P(s),g=P(S(b)),m=S(g),w=P(b),y=P(S(w)),E=S(y);ne(()=>{l(),pt(()=>{})});var T=S(E);T.value=T.__value="relative";var z=P(T);z.value=z.__value="absolute";var F=P(o,2);gt(v,n),gt(d,r),pl(m,a),rt("click",m,()=>a(!a())),gt(E,l),rt("click",F,function(N){On.call(this,t,N)}),H(e,i),Fe()}var Bl=j("<div><!></div>"),Ul=j("<main><div><!></div> <!></main>");function Kl(e,t){ze(t,!1);let n=Y(),r=Y(),a=Y(),l=Y(!1),i=Y(!1),o=Y("relative");function f(){x(i,localStorage.getItem("visited")==null),x(a,parseInt(localStorage.getItem("platform")??"2")),x(r,localStorage.getItem("stnId")??"1"),x(l,localStorage.getItem("horizontal")==="true"),x(o,localStorage.getItem("timeMode")??"relative")}function u(g,m,w,y){localStorage.setItem("visited",String(!0)),localStorage.setItem("stnId",g),localStorage.setItem("platform",m.toString()),localStorage.setItem("horizontal",String(w)),localStorage.setItem("timeMode",y)}function c(){const g=new URLSearchParams(window.location.search),m=Object.fromEntries(g.entries());m.stnId!=null&&m.plat!=null&&(x(i,!1),x(r,m.stnId),x(a,parseInt(m.plat))),m.horz!=null&&x(l,m.horz==="true")}Ft(()=>{f(),c(),u(p(r),p(a),p(l),p(o))}),_t();var v=Ul(),s=S(v),_=S(s);Ol(_,{get stnId(){return p(r)},get platform(){return p(a)},get timeMode(){return p(o)},$$events:{showConfig:()=>x(i,!0)}}),ml(s,g=>x(n,g),()=>p(n));var d=P(s,2);{var b=g=>{var m=Bl(),w=S(m);Fl(w,{get stationId(){return p(r)},set stationId(y){x(r,y)},get selectedPlatform(){return p(a)},set selectedPlatform(y){x(a,y)},get useHorizontal(){return p(l)},set useHorizontal(y){x(l,y)},get timeMode(){return p(o)},set timeMode(y){x(o,y)},$$events:{click:()=>{x(i,!1),u(p(r),p(a),p(l),p(o))}},$$legacy:!0}),ne(()=>Xt(m,1,p(l)?"horizontal":"portrait","svelte-1hz75cp")),hl(3,m,()=>El,()=>({duration:100})),H(g,m)};xt(d,g=>{p(i)&&g(b)})}ne(()=>Xt(s,1,p(l)?"horizontal":"portrait","svelte-1hz75cp")),H(e,v),Fe()}jr(Kl,{target:document.getElementById("app")});
